---
import { getCollection } from "astro:content";
import MainLayout from "../../layouts/MainLayout.astro";
import ButtonLink from "../../components/ButtonLink.astro";

const businesses = await getCollection("businesses");

const title = "Businesses";
const description = "local businesses";
---

<MainLayout title={title} description={description}>
  <h1 class="text-2xl font-bold text-center m-auto">{title}</h1>
  <div class="flex flex-col flex-nowrap m-auto">
    {
      businesses.map((business) => (
        <ButtonLink href={`/businesses/${business.id}/`}>
          {business.data.name}
        </ButtonLink>
      ))
    }
  </div>
</MainLayout>
